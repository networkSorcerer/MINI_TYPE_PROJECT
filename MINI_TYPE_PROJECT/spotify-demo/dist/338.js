"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[338],{4338:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r={};n.r(r),n(6540);var a=n(4073),o=n(3930),c=n(1083);const s="dc2f703d0a4a490db0326e78e845ce34",i="e4f3252d20e2427c9a261fda60c2651e",d=async()=>{console.log("clientId:",i),console.log("clientSecret:",s);try{const t=new URLSearchParams({grant_type:"client_credentials"});return(await c.A.post("https://accounts.spotify.com/api/token",t,{headers:{Authorization:"Basic ".concat((e=i+":"+s,"undefined"!=typeof window?btoa(e):Buffer.from(e).toString("base64"))),"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){throw new Error("Fail to fetch client credential token")}var e},l=()=>{const e=(()=>{const{data:e}=(0,o.I)({queryKey:["client-credential-token"],queryFn:d});return null==e?void 0:e.access_token})();return(0,o.I)({queryKey:["new-releases"],queryFn:()=>{if(!e)throw new Error("No token available");return(0,r.getNewRelease)(e)}})};var u=n(4848);const f=()=>{const{data:e,error:t,isLoading:n}=l();return(0,u.jsx)("div",{children:(0,u.jsx)(a.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"})})},p=()=>(0,u.jsx)("div",{children:(0,u.jsx)(f,{})})}}]);
//# sourceMappingURL=338.js.map?ver=8c10fe040cd4ffd3df29