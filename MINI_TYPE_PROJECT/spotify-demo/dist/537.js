"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[537],{9537:(e,r,a)=>{a.r(r),a.d(r,{default:()=>j}),a(6540);var s=a(4073),t=a(3930),n=a(1083),o=a(5800);var i=a(4871);const l=()=>{const e=(()=>{const{data:e}=(0,t.I)({queryKey:["client-credential-token"],queryFn:i.M});return null==e?void 0:e.access_token})();return(0,t.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await n.A.get("".concat(o.$,"/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("Failed to fetch new releases")}})(e)}})};var c=a(1567),d=a(6552),h=a(4848);const u=e=>{let{errorMessage:r}=e;return(0,h.jsx)(d.A,{severity:"error",children:r})};var m=a(3592),x=a(9067),p=a(1641),y=a(8586);const g=e=>{let{image:r,name:a,artistName:t}=e;return(0,h.jsxs)(x.A,{sx:{position:"relative",borderRadius:2,overflow:"hidden",boxShadow:3,cursor:"pointer","&:hover .play-button":{opacity:1,transform:"scale(1)"}},children:[(0,h.jsx)("img",{src:r,alt:a,style:{width:"100%",display:"block",height:"auto"}}),(0,h.jsx)(p.A,{className:"play-button",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(0)",bgcolor:"rgba(0, 128, 0, 0.8)",color:"white",opacity:0,transition:"all 0.3s ease","&:hover":{bgcolor:"green",transform:"translate(-50%, -50%) scale(1.1)"}},"aria-label":"play",onClick:()=>alert("Play album: ".concat(a)),children:(0,h.jsx)(y.A,{fontSize:"large"})}),(0,h.jsx)(s.A,{children:a}),(0,h.jsx)(s.A,{children:t})]})},b=()=>{const{data:e,error:r,isLoading:a}=l();return console.log("ddd",e),a?(0,h.jsx)(c.A,{}):r?(0,h.jsx)(u,{errorMessage:r.message}):(0,h.jsxs)("div",{children:[(0,h.jsx)(s.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"}),e&&e.albums.items.length>0?(0,h.jsx)(m.A,{container:!0,spacing:2,children:e.albums.items.map((e=>(0,h.jsx)(m.A,{xs:6,sm:4,md:2,children:(0,h.jsx)(g,{image:e.images[0].url,name:e.name,artistName:e.artists[0].name})},e.id)))}):(0,h.jsx)(s.A,{variant:"h2",children:"NO DATA"})]})},j=()=>(0,h.jsx)("div",{children:(0,h.jsx)(b,{})})}}]);
//# sourceMappingURL=537.js.map?ver=1064d07e627c172cf1fe