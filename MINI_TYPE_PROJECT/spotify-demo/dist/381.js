"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[381],{9381:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l}),a(6540);var r=a(4073),n=a(3930),o=a(1083);const c=async()=>{try{const t=new URLSearchParams({grant_type:"client_credentials"});return(await o.A.post("https://accounts.spotify.com/api/token",t,{headers:{Authorization:"Basic ".concat((e="e4f3252d20e2427c9a261fda60c2651e:dc2f703d0a4a490db0326e78e845ce34","undefined"!=typeof window?btoa(e):Buffer.from(e).toString("base64"))),"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){throw new Error("Failed to fetch client credential token.")}var e},s=()=>{const e=(()=>{const{data:e}=(0,n.I)({queryKey:["client-credential-token"],queryFn:c});return null==e?void 0:e.access_token})();return(0,n.I)({queryKey:["new-releases"],queryFn:()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await o.A.get("".concat("https://api.spotify.com/v1","/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("Failed to fetch new releases")}})(e)}})};var i=a(4848);const d=()=>{const{data:e,error:t,isLoading:a}=s();return(0,i.jsx)("div",{children:(0,i.jsx)(r.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"})})},l=()=>(0,i.jsx)("div",{children:(0,i.jsx)(d,{})})}}]);
//# sourceMappingURL=381.js.map?ver=95d37fbb0fe84270c149