"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[906],{7906:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v}),a(6540);var r=a(4073),o=a(3930),s=a(1083);const n="62543d55bdde461da9a044bc2044b588",i="126acdac3c884a4db60d35afd5fd15b8",l=e=>"undefined"!=typeof window?btoa(e):Buffer.from(e).toString("base64"),c=async()=>{console.log("clientId:",i),console.log("clientSecret:",n),console.log(l(i+":"+n));try{const e=new URLSearchParams({grant_type:"client_credentials"});console.log("body.toString():",e.toString());const t=await s.A.post("https://accounts.spotify.com/api/token",e,{headers:{Authorization:"Basic ".concat(l(i+":"+n)),"Content-Type":"application/x-www-form-urlencoded"}});return console.log("✅ token response:",t.data),t.data}catch(t){var e;throw console.error("❌ Token 요청 중 오류 발생1:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),console.error("❌ Token 요청 중 오류 발생2:",t),new Error("Failed to fetch client credential token.")}},d=()=>{const e=(()=>{const{data:e}=(0,o.I)({queryKey:["client-credential-token"],queryFn:c});return null==e?void 0:e.access_token})();return(0,o.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await s.A.get("".concat("https://api.spotify.com/v1","/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("Failed to fetch new releases")}})(e)}})};var h=a(1567),u=a(6552),p=a(4848);const m=e=>{let{errorMessage:t}=e;return(0,p.jsx)(u.A,{severity:"error",children:t})};var g=a(3592),y=a(9067),b=a(1641),w=a(8586);const f=e=>{let{image:t,name:a,artistName:o}=e;return(0,p.jsxs)(y.A,{sx:{position:"relative",borderRadius:2,overflow:"hidden",boxShadow:3,cursor:"pointer","&:hover .play-button":{opacity:1,transform:"scale(1)"}},children:[(0,p.jsx)("img",{src:t,alt:a,style:{width:"100%",display:"block",height:"auto"}}),(0,p.jsx)(b.A,{className:"play-button",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(0)",bgcolor:"rgba(0, 128, 0, 0.8)",color:"white",opacity:0,transition:"all 0.3s ease","&:hover":{bgcolor:"green",transform:"translate(-50%, -50%) scale(1.1)"}},"aria-label":"play",onClick:()=>alert("Play album: ".concat(a)),children:(0,p.jsx)(w.A,{fontSize:"large"})}),(0,p.jsx)(r.A,{children:a}),(0,p.jsx)(r.A,{children:o})]})},x=()=>{const{data:e,error:t,isLoading:a}=d();return console.log("ddd",e),a?(0,p.jsx)(h.A,{}):t?(0,p.jsx)(m,{errorMessage:t.message}):(0,p.jsxs)("div",{children:[(0,p.jsx)(r.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"}),e&&e.albums.items.length>0?(0,p.jsx)(g.A,{container:!0,spacing:2,children:e.albums.items.map((e=>(0,p.jsx)(g.A,{xs:6,sm:4,md:2,children:(0,p.jsx)(f,{image:e.images[0].url,name:e.name,artistName:e.artists[0].name})},e.id)))}):(0,p.jsx)(r.A,{variant:"h2",children:"NO DATA"})]})},v=()=>(0,p.jsx)("div",{children:(0,p.jsx)(x,{})})}}]);
//# sourceMappingURL=906.js.map?ver=ad1702fc6bc8384207fe