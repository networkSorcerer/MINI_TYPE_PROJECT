"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[381],{9381:(e,o,t)=>{t.r(o),t.d(o,{default:()=>h}),t(6540);var n=t(4073),r=t(3930),a=t(1083);const c="62543d55bdde461da9a044bc2044b588",s="126acdac3c884a4db60d35afd5fd15b8",d=e=>"undefined"!=typeof window?btoa(e):Buffer.from(e).toString("base64"),i=async()=>{console.log("clientId:",s),console.log("clientSecret:",c),console.log(d(s+":"+c));try{const e=new URLSearchParams({grant_type:"client_credentials"});console.log("body.toString():",e.toString());const o=await a.A.post("https://accounts.spotify.com/api/token",e,{headers:{Authorization:"Basic ".concat(d(s+":"+c)),"Content-Type":"application/x-www-form-urlencoded"}});return console.log("✅ token response:",o.data),o.data}catch(o){var e;throw console.error("❌ Token 요청 중 오류 발생1:",(null===(e=o.response)||void 0===e?void 0:e.data)||o.message),console.error("❌ Token 요청 중 오류 발생2:",o),new Error("Failed to fetch client credential token.")}},l=()=>{const e=(()=>{const{data:e}=(0,r.I)({queryKey:["client-credential-token"],queryFn:i});return null==e?void 0:e.access_token})();return(0,r.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await a.A.get("".concat("https://api.spotify.com/v1","/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("Failed to fetch new releases")}})(e)}})};var u=t(4848);const p=()=>{const{data:e,error:o,isLoading:t}=l();return console.log("ddd",e),(0,u.jsx)("div",{children:(0,u.jsx)(n.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"})})},h=()=>(0,u.jsx)("div",{children:(0,u.jsx)(p,{})})}}]);
//# sourceMappingURL=381.js.map?ver=0be99c38f8f4f3776a64