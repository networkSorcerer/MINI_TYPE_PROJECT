"use strict";(self.webpackChunkspotify_demo=self.webpackChunkspotify_demo||[]).push([[381],{9381:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h}),a(6540);var r=a(4073),n=a(3930),o=a(1083);const c="dc2f703d0a4a490db0326e78e845ce34",s="e4f3252d20e2427c9a261fda60c2651e",i=async()=>{console.log("clientId:",s),console.log("clientSecret:",c);try{const t=new URLSearchParams({grant_type:"client_credentials"});return(await o.A.post("https://accounts.spotify.com/api/token",t,{headers:{Authorization:"Basic ".concat((e=s+":"+c,"undefined"!=typeof window?btoa(e):Buffer.from(e).toString("base64"))),"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(e){throw new Error("Fail to fetch client credential token")}var e},d=()=>{const e=(()=>{const{data:e}=(0,n.I)({queryKey:["client-credential-token"],queryFn:i});return null==e?void 0:e.access_token})();return(0,n.I)({queryKey:["new-releases"],queryFn:async()=>{if(!e)throw new Error("No token available");return(async e=>{try{return(await o.A.get("".concat("https://api.spotify.com/v1","/browse/new-releases?limit=6"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){throw new Error("Fail to fetch new release")}})(e)}})};var l=a(4848);const u=()=>{const{data:e,error:t,isLoading:a}=d();return(0,l.jsx)("div",{children:(0,l.jsx)(r.A,{variant:"h1",paddingTop:"8px",children:"New Released Albums"})})},h=()=>(0,l.jsx)("div",{children:(0,l.jsx)(u,{})})}}]);
//# sourceMappingURL=381.js.map?ver=2b20e6f7667a03fd611e